---
import { getCollection } from 'astro:content';
import Base from "../../layouts/Base.astro";
import { sortPostByDate } from '../../utils/date';
const posts = sortPostByDate(await getCollection("blog"))
---

<Base
  title="Marco Kammer - Blog"
  description="Thoughts on the software industry, programming, tech, videography, music, and my personal life. TODO:edit"
>
<div class='flex flex-col items-start justify-center max-w-3xl mx-auto mb-16'>
<h1 class='mb-4 text-3xl font-bold tracking-tight text-black md:text-5xl dark:text-white'>
          Blog
        </h1>
        <p class='mb-4 text-gray-400'>
          {`I'm going to write mostly about tech and gamedev stuff but here and odd ball might come out.
            In total, I've written ${posts?.length} articles on my blog.
            Use the search below to filter by title.`}

        </p>
        <div class='relative w-full mb-4'>
          <input
            aria-label='Search articles'
            type='text'

            placeholder='Search articles'
            class='block w-full px-4 py-2 border rounded-md border-[#111111] focus:ring-blue-500 focus:border-blue-500 bg-[#222222] text-[#fafafa]'

          />

          <svg
            class='absolute w-5 h-5 text-gray-400 right-3 top-3 dark:text-gray-300'
            xmlns='http://www.w3.org/2000/svg'

            fill='none'
            viewBox='0 0 24 24'
            stroke='currentColor'
          >
            <path
              stroke-linecap='round'
              stroke-linejoin='round'
              stroke-width={2}

              d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z'
            />
          </svg>

        </div>
      <h2 class='mt-8 mb-4 text-2xl font-bold tracking-tight text-black md:text-4xl dark:text-white'>
            All Posts
          </h2>
    <ul class='w-full mb-8'>
    {posts.map((post) => (
        <a href={`/blog/${post.slug}`}  class='w-full'>
        <div class='w-full mb-8'>
          <div class='flex flex-col justify-between md:flex-row'>
            <h2 class='w-full mb-2 text-lg font-medium text-gray-900 md:text-xl dark:text-gray-100'>
              {post.data.title}

            </h2>
          </div>
          <p class='text-gray-600 dark:text-gray-400'>{post.data.description}</p>
        </div>
      </a>
      ))}
    </ul>
    </div>
</Base>
